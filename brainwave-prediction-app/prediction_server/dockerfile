FROM python:3.11
COPY server_requirements.txt /prediction_server/server_requirements.txt
WORKDIR /prediction_server

RUN pip install --upgrade pip
RUN pip3 install -r server_requirements.txt

COPY ./server /prediction_server/server
COPY ./models /prediction_server/models
COPY ./templates /prediction_server/templates

EXPOSE 8000
#WORKDIR /prediction_server/server
#ENV FLASK_APP=server.py

CMD ["gunicorn", "-b", "0.0.0.0:8000", "server.server:app"]
